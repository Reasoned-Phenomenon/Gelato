<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.gelato.app.eqm.dao.EqmMapper">

	<!-- 설비 등록 페이지 - 설비등록 -->
	<insert id="insertEqm" parameterType="EqmVO">
		insert into eqm(EQM_ID, EQM_NAME, model_no, VEND_ID, TEMP_MAX, TEMP_MIN, CHCK_PERD, REG_DT, MNGR, EQM_IMG, PURC_DT, FG, SPEC, USE_YN, UPH)
		values(#{eqmId},#{eqmName},#{modelNo},#{vendId},#{tempMax},#{tempMin},#{chckPerd},#{regDt},#{mngr},#{eqmImg},#{purcDt},#{fg},#{spec},#{useYn},#{uph})
	</insert>
	
	<!--설비 관리 페이지 - 설비조회  -->
	<select id="eqmList" resultType="EqmVO">
		select e.eqm_id as eqm_id, e.eqm_name as eqm_name, p.prcs_id as prcs_id, p.nm as nm, e.use_yn as use_yn, e.fg as fg 
		from eqm e, prcs p 
		where e.eqm_id = p.eqm_id 
		
		<if test="gubun == '전체'">
		</if>
		<if test="gubun == '배합'">
			and e.fg = 'CLAS01'
		</if>
		<if test="gubun == '운송'">
			and e.fg = 'CLAS02'
		</if>
	</select>

</mapper>